<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SSYLoginItems Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SSYLoginItems Class Reference</h1><!-- doxytag: class="SSYLoginItems" -->A Cocoa wrapper around LSSharedFileList for adding or removing Login Items.  
<a href="#_details">More...</a>
<p>
<code>#import &lt;<a class="el" href="_s_s_y_login_items_8h-source.html">SSYLoginItems.h</a>&gt;</code>
<p>

<p>
<a href="class_s_s_y_login_items-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_s_y_login_items.html#35acff53ae711a01cb5cc3a12eec873e">isURL:loginItem:hidden:error:</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tests whether or not the file URL url is a Login Item for the current user.  <a href="#35acff53ae711a01cb5cc3a12eec873e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_s_y_login_items.html#3ca0388e94d4cc7a832d759bbe409abf">addLoginURL:hidden:error:</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds file URL url as a Login Item at the end of the list for the current user.  <a href="#3ca0388e94d4cc7a832d759bbe409abf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_s_y_login_items.html#fa2d80dcbaff8a25f015f30c6c047511">removeLoginURL:error:</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes file URL url as a Login Item for the current user.  <a href="#fa2d80dcbaff8a25f015f30c6c047511"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">(enum SSYSharedFileListResult)&nbsp;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_s_y_login_items.html#db5b2e934748d084ab1cb002234d7ae5">synchronizeLoginItemPath:shouldBeLoginItem:setHidden:error:</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds <em>or</em> removes an item to/from Login Items of current user.  <a href="#db5b2e934748d084ab1cb002234d7ae5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">(enum SSYSharedFileListResult)&nbsp;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_s_y_login_items.html#34b0ac473f65eda0fe0ec94a6b4780b9">removeAllLoginItemsWithName:thatAreNotInPath:error:</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes all Login Items for the current user which have a given name as last component of their path name, except those in a given path.  <a href="#34b0ac473f65eda0fe0ec94a6b4780b9"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="39c56f5be072bc19c87e7445baf67f96"></a><!-- doxytag: member="SSYLoginItems::SSYSharedFileListResultFailed" ref="39c56f5be072bc19c87e7445baf67f96" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SSYSharedFileListResultFailed</b> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2cbc54aaff1faae8ec28ac9c79345e21"></a><!-- doxytag: member="SSYLoginItems::SSYSharedFileListResultNoAction" ref="2cbc54aaff1faae8ec28ac9c79345e21" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SSYSharedFileListResultNoAction</b> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5eb883a39ac348ddd3ec5098c92a37f3"></a><!-- doxytag: member="SSYLoginItems::SSYSharedFileListResultAdded" ref="5eb883a39ac348ddd3ec5098c92a37f3" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SSYSharedFileListResultAdded</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="78878663a6f7bcda81234a3caa3054da"></a><!-- doxytag: member="SSYLoginItems::SSYSharedFileListResultRemoved" ref="78878663a6f7bcda81234a3caa3054da" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SSYSharedFileListResultRemoved</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e49a173c997eb79190acb726b2aa2d02"></a><!-- doxytag: member="SSYLoginItems::SSYSharedFileListResultLaunched" ref="e49a173c997eb79190acb726b2aa2d02" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SSYSharedFileListResultLaunched</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8c429c7549e17260c2c1c3c010c244a5"></a><!-- doxytag: member="SSYLoginItems::SSYSharedFileListResultQuit" ref="8c429c7549e17260c2c1c3c010c244a5" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SSYSharedFileListResultQuit</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dd5d4a166ac53c72fbba3613d4b86e22"></a><!-- doxytag: member="SSYLoginItems::SSYSharedFileListResultSucceeded" ref="dd5d4a166ac53c72fbba3613d4b86e22" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SSYSharedFileListResultSucceeded</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A Cocoa wrapper around LSSharedFileList for adding or removing Login Items. 
<p>
<a class="el" href="_s_s_y_login_items_8h-source.html">SSYLoginItems.h</a>/.c is an Obj-C wrapper on LSSharedFileList which provides some class methods to query, add and remove items from the user's "Login Items" in System Preferences.<p>
SSLoginItems.h/.c may be used in other projects. Mac OS 10.5 and the CoreServices framework are required.<p>
QUICK START<p>
Run the demo project and follow the instructions in the console. It will examine, add and remove items from your Login Items. It will ask <a class="el" href="interfaceyou.html" title="Accessors generated dynamically by Core Data for Stark managed objects.">you</a> to verify the results by examining your Login Items and then pressing return six times.<p>
BUGS<p>
When I run the program, I find two repeatable bugs: • In Test 1, Login Items that have the "Hidden" box checked are reported to have hidden=0. • In test 5, when the tool sets a Login Item with hidden=1, the "Hidden" box in Login Items does not get checked.<p>
I believe this is due to a bug in the LSShardFileList API which I have entered into Apple Bug Reporter. Problem ID 5901742<p>
30-Apr-2008 01:48 PM Jerry Krinock:<p>
SUMMARY The 'hidden' attribute for Login Items in the LSSharedList API has a disconnect with the reality. In more detail, when reading a Login Item, the 'hidden' attribute is read as 0, even if it is in fact '1', unless the 'hidden' attribute has been set by the LSSharedList API. In that case, it doesn't really set, but when <a class="el" href="interfaceyou.html" title="Accessors generated dynamically by Core Data for Stark managed objects.">you</a> read it back with the API, it says that it is set, even though in fact it is not.<p>
STEPS TO REPRODUCE Build and run the attached project. Follow the prompts shown in the the console.<p>
EXPECTED RESULTS In all tests, the values read and written using the LSSharedList API and shown in the log should agree with what is shown in the System Preferences application.<p>
ACTUAL RESULTS In Test #1, items which have the "Hide" box checked in System Preferences read from the API hidden=0. In Test #5, although the API set Safari to "Hide" and the API read it back as hidden=1, if <a class="el" href="interfaceyou.html" title="Accessors generated dynamically by Core Data for Stark managed objects.">you</a> look in System Preferences <a class="el" href="interfaceyou.html" title="Accessors generated dynamically by Core Data for Stark managed objects.">you</a> see that the "Hide" box is not checked. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="3ca0388e94d4cc7a832d759bbe409abf"></a><!-- doxytag: member="SSYLoginItems::addLoginURL:hidden:error:" ref="3ca0388e94d4cc7a832d759bbe409abf" args="(NSURL *url,[hidden] NSNumber *hidden,[error] NSError **error_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) addLoginURL:           </td>
          <td></td>
          <td class="paramtype">(NSURL*)&nbsp;</td>
          <td class="paramname"> <em>url</em></td>
        </tr>
        <tr>
          <td class="paramkey">hidden:</td>
          <td></td>
          <td class="paramtype">(NSNumber*)&nbsp;</td>
          <td class="paramname"> <em>hidden</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError**)&nbsp;</td>
          <td class="paramname"> <em>error_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds file URL url as a Login Item at the end of the list for the current user. 
<p>
Also, sets its 'hidden' parameter according to [hidden boolValue] <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>url</em>&nbsp;</td><td>The file url of the item to be added. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hidden</em>&nbsp;</td><td>The "Hidden" attribute of the new login item will be set to reflect this input. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_p</em>&nbsp;</td><td>On output, if input is not NULL, if error occurred, will point to an NSError* expressing the error which occurred. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>YES if operation was successful with no error, NO otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="35acff53ae711a01cb5cc3a12eec873e"></a><!-- doxytag: member="SSYLoginItems::isURL:loginItem:hidden:error:" ref="35acff53ae711a01cb5cc3a12eec873e" args="(NSURL *url,[loginItem] NSNumber **isLoginItem_p,[hidden] NSNumber **hidden_p,[error] NSError **error_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) isURL:           </td>
          <td></td>
          <td class="paramtype">(NSURL*)&nbsp;</td>
          <td class="paramname"> <em>url</em></td>
        </tr>
        <tr>
          <td class="paramkey">loginItem:</td>
          <td></td>
          <td class="paramtype">(NSNumber**)&nbsp;</td>
          <td class="paramname"> <em>isLoginItem_p</em></td>
        </tr>
        <tr>
          <td class="paramkey">hidden:</td>
          <td></td>
          <td class="paramtype">(NSNumber**)&nbsp;</td>
          <td class="paramname"> <em>hidden_p</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError**)&nbsp;</td>
          <td class="paramname"> <em>error_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests whether or not the file URL url is a Login Item for the current user. 
<p>
Returns answer as [*isLoginItem_p boolValue]. If it is, also returns whether or not it is hidden as [*hidden_p boolValue] <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>url</em>&nbsp;</td><td>The file url of the item in question </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>isLoginItem_p</em>&nbsp;</td><td>On output, if input is not NULL, will point to an [NSNumber numberWithBool:] expressing whether or not the item in question is a Login Item for the current user. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hidden_p</em>&nbsp;</td><td>On output, if input is not NULL, will point to an [NSNumber numberWithBool:] expressing whether or not the item in question is "Hidden" in Login Items </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_p</em>&nbsp;</td><td>On output, if input is not NULL, if error occurred, will point to an NSError* expressing the error which occurred. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>YES if operation was successful with no error, NO otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="34b0ac473f65eda0fe0ec94a6b4780b9"></a><!-- doxytag: member="SSYLoginItems::removeAllLoginItemsWithName:thatAreNotInPath:error:" ref="34b0ac473f65eda0fe0ec94a6b4780b9" args="(NSString *name,[thatAreNotInPath] NSString *path,[error] NSError **error_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (enum SSYSharedFileListResult) removeAllLoginItemsWithName:           </td>
          <td></td>
          <td class="paramtype">(NSString*)&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
        </tr>
        <tr>
          <td class="paramkey">thatAreNotInPath:</td>
          <td></td>
          <td class="paramtype">(NSString*)&nbsp;</td>
          <td class="paramname"> <em>path</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError**)&nbsp;</td>
          <td class="paramname"> <em>error_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes all Login Items for the current user which have a given name as last component of their path name, except those in a given path. 
<p>
This method is useful to clear out login items referring to old versions, after the installation of a Login Item has been updated. In this case, pass path as the latest version of the app to be launched. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Filename (last component of path name) used to qualify Login Items for removal. The .extension part of this argument, if any, is ignored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Login Items in this path will not be removed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_p</em>&nbsp;</td><td>On output, if input is not NULL, if error occurred, will point to an NSError* expressing the error which occurred. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If operation fails for some reason, returns SSYSharedFileListResultFailed If one or more Login Items were removed, returns SSYSharedFileListResultRemoved. If zero Login Items were removed, returns SSYSharedFileListResultNoAction. </dd></dl>

</div>
</div><p>
<a class="anchor" name="fa2d80dcbaff8a25f015f30c6c047511"></a><!-- doxytag: member="SSYLoginItems::removeLoginURL:error:" ref="fa2d80dcbaff8a25f015f30c6c047511" args="(NSURL *url,[error] NSError **error_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (BOOL) removeLoginURL:           </td>
          <td></td>
          <td class="paramtype">(NSURL*)&nbsp;</td>
          <td class="paramname"> <em>url</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError**)&nbsp;</td>
          <td class="paramname"> <em>error_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes file URL url as a Login Item for the current user. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>url</em>&nbsp;</td><td>The file url of the item to be removed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_p</em>&nbsp;</td><td>On output, if input is not NULL, if error occurred, will point to an NSError* expressing the error which occurred. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>YES if operation was successful with no error, NO otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="db5b2e934748d084ab1cb002234d7ae5"></a><!-- doxytag: member="SSYLoginItems::synchronizeLoginItemPath:shouldBeLoginItem:setHidden:error:" ref="db5b2e934748d084ab1cb002234d7ae5" args="(NSString *path,[shouldBeLoginItem] BOOL shouldBeLoginItem,[setHidden] BOOL setHidden,[error] NSError **error_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (enum SSYSharedFileListResult) synchronizeLoginItemPath:           </td>
          <td></td>
          <td class="paramtype">(NSString*)&nbsp;</td>
          <td class="paramname"> <em>path</em></td>
        </tr>
        <tr>
          <td class="paramkey">shouldBeLoginItem:</td>
          <td></td>
          <td class="paramtype">(BOOL)&nbsp;</td>
          <td class="paramname"> <em>shouldBeLoginItem</em></td>
        </tr>
        <tr>
          <td class="paramkey">setHidden:</td>
          <td></td>
          <td class="paramtype">(BOOL)&nbsp;</td>
          <td class="paramname"> <em>setHidden</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError**)&nbsp;</td>
          <td class="paramname"> <em>error_p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds <em>or</em> removes an item to/from Login Items of current user. 
<p>
If path is not a Login Item for the current user and shouldBeLoginItem is YES, makes it a Login Item for the current user and also sets it hidden or not according to setHidden. If path is a Login Item for the current user and shouldBeLoginItem is NO, removes path from current user's Login items. If neither of the above, does nothing. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>The</em>&nbsp;</td><td>absolute path to the item which will be added or removed from Login Items. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>shouldBeLoginItem</em>&nbsp;</td><td>Whether the item should be a Login Item or not. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>setHidden</em>&nbsp;</td><td>If a new login item is set, whether or not it is set as Hidden. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_p</em>&nbsp;</td><td>On output, if input is not NULL, if error occurred, will point to an NSError* expressing the error which occurred. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>If operation fails for some reason, returns SSYSharedFileListResultFailed If item at path was not found and added, returns SSYSharedFileListResultAdded. If item at path was found and removed, returns SSYSharedFileListResultRemoved. If none of the above occurred, returns SSYSharedFileListResultNoAction. </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Documents/Programming/ClassesObjC/<a class="el" href="_s_s_y_login_items_8h-source.html">SSYLoginItems.h</a><li>Documents/Programming/ClassesObjC/SSYLoginItems.m</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Nov 17 16:43:06 2008 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
